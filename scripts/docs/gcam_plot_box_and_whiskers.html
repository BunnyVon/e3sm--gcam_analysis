<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCAM Box-and-Whisker Plotting Script Documentation</title>
    <style>
/* 
 * Documentation Stylesheet for GCAM Synthetic Data Generation Script
 * A modern, colorful design with good readability
 */

/* ===== ROOT VARIABLES ===== */
:root {
    /* Color Palette */
    --primary-blue: #2563eb;
    --primary-blue-light: #3b82f6;
    --primary-blue-dark: #1e40af;
    --accent-green: #10b981;
    --accent-orange: #f59e0b;
    --accent-purple: #8b5cf6;
    --accent-red: #ef4444;
    
    /* Background Colors */
    --bg-main: #f8fafc;
    --bg-code: #1e293b;
    --bg-code-inline: #e2e8f0;
    --bg-table-header: #1e40af;
    --bg-table-row-even: #f1f5f9;
    --bg-table-row-odd: #ffffff;
    --bg-note: #fef3c7;
    --bg-warning: #fee2e2;
    --bg-info: #dbeafe;
    --bg-success: #d1fae5;
    
    /* Text Colors */
    --text-main: #1e293b;
    --text-secondary: #64748b;
    --text-code: #e2e8f0;
    --text-link: #2563eb;
    --text-link-hover: #1e40af;
    
    /* Border Colors */
    --border-light: #e2e8f0;
    --border-medium: #cbd5e1;
    --border-dark: #94a3b8;
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
}

/* ===== BASE STYLES ===== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.7;
    color: var(--text-main);
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: var(--spacing-xl) var(--spacing-md);
    font-size: 16px;
}

/* Main Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--bg-main);
    padding: var(--spacing-2xl);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

/* ===== TYPOGRAPHY ===== */
h1 {
    font-size: 2.5rem;
    color: var(--primary-blue-dark);
    margin-bottom: var(--spacing-xl);
    padding-bottom: var(--spacing-md);
    border-bottom: 4px solid var(--primary-blue);
    font-weight: 700;
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-purple) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

h2 {
    font-size: 2rem;
    color: var(--primary-blue);
    margin-top: var(--spacing-2xl);
    margin-bottom: var(--spacing-lg);
    padding-left: var(--spacing-md);
    border-left: 5px solid var(--accent-green);
    font-weight: 600;
}

h3 {
    font-size: 1.5rem;
    color: var(--primary-blue-dark);
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-md);
    font-weight: 600;
    display: flex;
    align-items: center;
}

h3::before {
    content: "▸";
    color: var(--accent-orange);
    margin-right: var(--spacing-sm);
    font-size: 1.2rem;
}

h4 {
    font-size: 1.25rem;
    color: var(--accent-purple);
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
}

p {
    margin-bottom: var(--spacing-md);
    color: var(--text-main);
}

/* ===== LINKS ===== */
a {
    color: var(--text-link);
    text-decoration: none;
    font-weight: 500;
    border-bottom: 2px solid transparent;
    transition: all 0.3s ease;
}

a:hover {
    color: var(--text-link-hover);
    border-bottom-color: var(--text-link-hover);
}

/* ===== LISTS ===== */
ul, ol {
    margin-left: var(--spacing-xl);
    margin-bottom: var(--spacing-md);
}

li {
    margin-bottom: var(--spacing-sm);
    padding-left: var(--spacing-sm);
}

ul li::marker {
    color: var(--accent-green);
    font-size: 1.2em;
}

ol li::marker {
    color: var(--primary-blue);
    font-weight: 600;
}

/* ===== CODE BLOCKS ===== */
code {
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
    font-size: 0.9em;
    padding: var(--spacing-xs) var(--spacing-sm);
    background: var(--bg-code-inline);
    color: var(--accent-red);
    border-radius: 4px;
    font-weight: 500;
}

pre {
    background: var(--bg-code);
    color: var(--text-code);
    padding: var(--spacing-lg);
    border-radius: 8px;
    overflow-x: auto;
    margin: var(--spacing-lg) 0;
    border-left: 4px solid var(--accent-green);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

pre code {
    background: transparent;
    color: var(--text-code);
    padding: 0;
    font-size: 0.95em;
    line-height: 1.5;
}

/* ===== TABLES ===== */
table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--spacing-xl) 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

thead {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%);
    color: white;
}

th {
    padding: var(--spacing-md);
    text-align: left;
    font-weight: 600;
    font-size: 1.05em;
    border-bottom: 3px solid var(--accent-orange);
}

td {
    padding: var(--spacing-md);
    border-bottom: 1px solid var(--border-light);
}

tbody tr:nth-child(even) {
    background: var(--bg-table-row-even);
}

tbody tr:nth-child(odd) {
    background: var(--bg-table-row-odd);
}

tbody tr:hover {
    background: #e0f2fe;
    transform: scale(1.01);
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* ===== BLOCKQUOTES ===== */
blockquote {
    margin: var(--spacing-lg) 0;
    padding: var(--spacing-md) var(--spacing-lg);
    background: var(--bg-info);
    border-left: 5px solid var(--primary-blue);
    border-radius: 0 8px 8px 0;
    font-style: italic;
    color: var(--primary-blue-dark);
}

/* ===== HORIZONTAL RULES ===== */
hr {
    border: none;
    height: 3px;
    background: linear-gradient(90deg, var(--accent-green) 0%, var(--primary-blue) 50%, var(--accent-purple) 100%);
    margin: var(--spacing-2xl) 0;
    border-radius: 2px;
}

/* ===== SPECIAL BOXES ===== */
.note {
    background: var(--bg-note);
    border-left: 5px solid var(--accent-orange);
    padding: var(--spacing-md) var(--spacing-lg);
    margin: var(--spacing-lg) 0;
    border-radius: 0 8px 8px 0;
}

.warning {
    background: var(--bg-warning);
    border-left: 5px solid var(--accent-red);
    padding: var(--spacing-md) var(--spacing-lg);
    margin: var(--spacing-lg) 0;
    border-radius: 0 8px 8px 0;
}

.info {
    background: var(--bg-info);
    border-left: 5px solid var(--primary-blue);
    padding: var(--spacing-md) var(--spacing-lg);
    margin: var(--spacing-lg) 0;
    border-radius: 0 8px 8px 0;
}

.success {
    background: var(--bg-success);
    border-left: 5px solid var(--accent-green);
    padding: var(--spacing-md) var(--spacing-lg);
    margin: var(--spacing-lg) 0;
    border-radius: 0 8px 8px 0;
}

/* ===== BADGES ===== */
.badge {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: 20px;
    font-size: 0.85em;
    font-weight: 600;
    margin: 0 var(--spacing-xs);
}

.badge-required {
    background: var(--accent-red);
    color: white;
}

.badge-optional {
    background: var(--accent-green);
    color: white;
}

.badge-default {
    background: var(--primary-blue);
    color: white;
}

/* ===== STRONG & EM ===== */
strong {
    color: var(--primary-blue-dark);
    font-weight: 700;
}

em {
    color: var(--accent-purple);
    font-style: italic;
}

/* ===== IMAGES ===== */
img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin: var(--spacing-lg) 0;
}

/* ===== SCROLLBAR STYLING ===== */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-table-row-even);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-purple) 100%);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, var(--primary-blue-dark) 0%, var(--accent-purple) 100%);
}

/* ===== PRINT STYLES ===== */
@media print {
    body {
        background: white;
        padding: 0;
    }
    
    .container {
        box-shadow: none;
        max-width: 100%;
    }
    
    h1, h2, h3 {
        page-break-after: avoid;
    }
    
    pre, table {
        page-break-inside: avoid;
    }
}

/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
    body {
        padding: var(--spacing-md) var(--spacing-sm);
        font-size: 14px;
    }
    
    .container {
        padding: var(--spacing-lg);
    }
    
    h1 {
        font-size: 2rem;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    h3 {
        font-size: 1.25rem;
    }
    
    table {
        font-size: 0.9em;
    }
    
    th, td {
        padding: var(--spacing-sm);
    }
}

/* ===== ADDITIONAL UTILITY CLASSES ===== */
.text-center {
    text-align: center;
}

.text-right {
    text-align: right;
}

.margin-top-lg {
    margin-top: var(--spacing-2xl);
}

.margin-bottom-lg {
    margin-bottom: var(--spacing-2xl);
}

.highlight {
    background: linear-gradient(120deg, #fef3c7 0%, #fde68a 100%);
    padding: 0 var(--spacing-xs);
    border-radius: 3px;
}

/* ===== SECTION DIVIDERS ===== */
.section-divider {
    display: flex;
    align-items: center;
    text-align: center;
    margin: var(--spacing-2xl) 0;
}

.section-divider::before,
.section-divider::after {
    content: '';
    flex: 1;
    border-bottom: 2px solid var(--border-medium);
}

.section-divider::before {
    margin-right: var(--spacing-md);
}

.section-divider::after {
    margin-left: var(--spacing-md);
}

/* ===== FOOTER ===== */
footer {
    margin-top: var(--spacing-2xl);
    padding-top: var(--spacing-lg);
    border-top: 2px solid var(--border-light);
    text-align: center;
    color: var(--text-secondary);
    font-size: 0.9em;
}

    </style>
</head>
<body>
    <div class="container">
<h1>GCAM Box-and-Whisker Plotting Script Documentation</h1>
<h2>Overview</h2>
<p><strong>Script Name:</strong> <code>gcam_plot_box_and_whiskers.py</code></p>
<p><strong>Purpose:</strong> Creates box-and-whisker plots (box plots) from GCAM (Global Change Analysis Model) output files to visualize data distributions across different scenarios, categories, and regions. Box plots provide a statistical summary showing median, quartiles, and outliers, making them ideal for comparing distributions and identifying variability in GCAM outputs.</p>
<p><strong>Author:</strong> Philip Myint (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="177a6e7e796326577b7b797b39707861">[email&#160;protected]</a>) and Dalei Hao (<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cfabaea3aaa6e1a7aea08fbfa1a1a3e1a8a0b9">[email&#160;protected]</a>)</p>
<p><strong>Repository:</strong> <a href="https://github.com/philipmyint/e3sm--gcam_analysis">E3SM-GCAM Analysis Scripts</a></p>
<hr />
<h2>Table of Contents</h2>
<ol>
<li><a href="#overview">Overview</a></li>
<li><a href="#installation--requirements">Installation &amp; Requirements</a></li>
<li><a href="#basic-usage">Basic Usage</a></li>
<li><a href="#understanding-box-plots">Understanding Box Plots</a></li>
<li><a href="#plot-types">Plot Types</a></li>
<li><a href="#configuration-parameters">Configuration Parameters</a></li>
<li><a href="#complete-parameter-reference-table">Complete Parameter Reference Table</a></li>
<li><a href="#detailed-parameter-descriptions">Detailed Parameter Descriptions</a></li>
<li><a href="#json-configuration-examples">JSON Configuration Examples</a></li>
<li><a href="#the-x_variable-and-hue-system">The x_variable and hue System</a></li>
<li><a href="#output-files">Output Files</a></li>
<li><a href="#advanced-features">Advanced Features</a></li>
<li><a href="#troubleshooting">Troubleshooting</a></li>
<li><a href="#best-practices">Best Practices</a></li>
</ol>
<hr />
<h2>Installation &amp; Requirements</h2>
<h3>Required Python Libraries</h3>
<div class="codehilite"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pandas<span class="w"> </span>numpy<span class="w"> </span>scipy<span class="w"> </span>matplotlib<span class="w"> </span>seaborn
</code></pre></div>

<h3>Required Utility Modules</h3>
<p>The script imports several utility modules that must be in the same directory or Python path:<br />
- <code>utility_constants</code> - Default constants for plotting<br />
- <code>utility_dataframes</code> - Functions for reading files<br />
- <code>utility_functions</code> - General utility functions<br />
- <code>utility_gcam</code> - GCAM-specific functions for landtype grouping<br />
- <code>utility_plots</code> - Plotting utility functions</p>
<h3>System Requirements</h3>
<ul>
<li>Python 3.7+</li>
<li>Multi-core processor (script uses parallel processing for multiple plots)</li>
<li>LaTeX installation (optional, for publication-quality typography)</li>
<li>Seaborn library (for enhanced box plot styling)</li>
</ul>
<hr />
<h2>Basic Usage</h2>
<h3>Command Line Execution</h3>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>gcam_plot_box_and_whiskers.py<span class="w"> </span>path/to/config.json
</code></pre></div>

<p><strong>Multiple Configuration Files:</strong></p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>gcam_plot_box_and_whiskers.py<span class="w"> </span>config1.json<span class="w"> </span>config2.json<span class="w"> </span>config3.json
</code></pre></div>

<h3>What the Script Does</h3>
<p>For each configuration block in the JSON file, the script:<br />
1. <strong>Reads</strong> processed GCAM output CSV files<br />
2. <strong>Filters</strong> data by scenarios, categories, regions, and years<br />
3. <strong>Aggregates</strong> data across time to create distributions<br />
4. <strong>Creates</strong> box plots showing statistical summaries<br />
5. <strong>Applies</strong> styling and customization options<br />
6. <strong>Generates</strong> publication-quality PDF (and optionally PNG) figures</p>
<hr />
<h2>Understanding Box Plots</h2>
<h3>Box Plot Components</h3>
<p>A box-and-whisker plot displays the distribution of data through quartiles:</p>
<div class="codehilite"><pre><span></span><code>        │                          outlier ○
        │                          
    ────┼────  ← maximum (excluding outliers)
        │    │
        │    │
    ────┼────  ← 75th percentile (Q3)
        │ ▓▓ │
        │ ▓▓ │ ← median (50th percentile / Q2)
        │ ▓▓ │
    ────┼────  ← 25th percentile (Q1)
        │    │
        │    │
    ────┼────  ← minimum (excluding outliers)
        │
        │      outlier ○
</code></pre></div>

<p><strong>Key Statistics Shown:</strong><br />
- <strong>Box:</strong> Interquartile range (IQR) from Q1 to Q3 (contains middle 50% of data)<br />
- <strong>Line in box:</strong> Median value<br />
- <strong>Whiskers:</strong> Extend to min/max values within 1.5 × IQR<br />
- <strong>Points:</strong> Outliers beyond whiskers</p>
<hr />
<h2>Plot Types</h2>
<p>The script supports two main plot types:</p>
<h3>1. Individual Plots</h3>
<p>Each scenario plotted as a separate box. Best for:<br />
- Comparing specific scenarios directly<br />
- Showing distribution of values across time for each scenario<br />
- Analyzing individual simulation runs</p>
<p><strong>Example:</strong> Comparing "Control" vs "Full feedback" scenarios</p>
<h3>2. Ensemble Plots</h3>
<p>Scenarios are grouped into sets, boxes show combined distribution from ensemble members. Best for:<br />
- Analyzing ensemble spread and uncertainty<br />
- Comparing groups of scenarios<br />
- Understanding variability across ensemble members</p>
<p><strong>Example:</strong> 5 ensemble members for "Control" vs 5 ensemble members for "Full feedback"</p>
<hr />
<h2>Configuration Parameters</h2>
<h3>Required Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output_file</code></td>
<td>string</td>
<td>Path to the processed CSV file containing GCAM data</td>
</tr>
<tr>
<td><code>scenarios</code></td>
<td>list or nested list</td>
<td>Scenario names to plot (list for individual, nested list for ensemble)</td>
</tr>
</tbody>
</table>
<h3>Commonly Used Optional Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plot_directory</code></td>
<td>string</td>
<td><code>"./"</code></td>
<td>Directory where plots will be saved</td>
</tr>
<tr>
<td><code>categories</code></td>
<td>list</td>
<td>All categories</td>
<td>Specific categories to plot (e.g., crop types, sectors)</td>
</tr>
<tr>
<td><code>regions</code></td>
<td>list</td>
<td><code>["Global"]</code></td>
<td>Regions to include in plots</td>
</tr>
<tr>
<td><code>hue</code></td>
<td>string</td>
<td><code>None</code></td>
<td>Variable to use for color-coding (e.g., "scenario", "region")</td>
</tr>
<tr>
<td><code>x_variable</code></td>
<td>string</td>
<td><code>category_label</code></td>
<td>Variable to plot on x-axis</td>
</tr>
<tr>
<td><code>y_label</code></td>
<td>string</td>
<td>Auto-generated</td>
<td>Y-axis label</td>
</tr>
<tr>
<td><code>y_scale</code></td>
<td>string</td>
<td><code>"linear"</code></td>
<td>Y-axis scale ("linear" or "log")</td>
</tr>
<tr>
<td><code>use_latex</code></td>
<td>boolean</td>
<td><code>false</code></td>
<td>Use LaTeX for text rendering</td>
</tr>
</tbody>
</table>
<hr />
<h2>Complete Parameter Reference Table</h2>
<h3>Data Selection Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output_file</code></td>
<td>string</td>
<td><strong>Yes</strong></td>
<td>-</td>
<td>Valid file path</td>
<td>Path to processed CSV file</td>
</tr>
<tr>
<td><code>scenarios</code></td>
<td>list/nested list</td>
<td><strong>Yes</strong></td>
<td>-</td>
<td>List of scenario names or nested lists</td>
<td>Scenarios to plot</td>
</tr>
<tr>
<td><code>scenario_sets</code></td>
<td>list</td>
<td>No</td>
<td><code>None</code></td>
<td>List of strings</td>
<td>Names for ensemble groups (when using nested scenarios)</td>
</tr>
<tr>
<td><code>notify_scenarios_transposed</code></td>
<td>boolean</td>
<td>No</td>
<td><code>false</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Print console message when scenarios are automatically transposed</td>
</tr>
<tr>
<td><code>categories</code></td>
<td>list</td>
<td>No</td>
<td>All categories</td>
<td>List of category names</td>
<td>Specific categories to plot</td>
</tr>
<tr>
<td><code>categories_to_exclude</code></td>
<td>list</td>
<td>No</td>
<td><code>None</code></td>
<td>List of category names</td>
<td>Categories to exclude from plotting</td>
</tr>
<tr>
<td><code>category_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"sector"</code></td>
<td>Column name</td>
<td>Column identifying categories</td>
</tr>
<tr>
<td><code>regions</code></td>
<td>list</td>
<td>No</td>
<td><code>["Global"]</code></td>
<td>Region names</td>
<td>Regions to include in plots</td>
</tr>
<tr>
<td><code>region_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"region"</code></td>
<td>Column name</td>
<td>Column identifying regions</td>
</tr>
<tr>
<td><code>basins</code></td>
<td>list</td>
<td>No</td>
<td><code>None</code></td>
<td>Basin names</td>
<td>Water basins to include (alternative to regions)</td>
</tr>
<tr>
<td><code>basin_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"basin"</code></td>
<td>Column name</td>
<td>Column identifying basins</td>
</tr>
<tr>
<td><code>scenario_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"scenario"</code></td>
<td>Column name</td>
<td>Column identifying scenarios</td>
</tr>
<tr>
<td><code>year_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"year"</code></td>
<td>Column name</td>
<td>Column identifying years</td>
</tr>
<tr>
<td><code>value_label</code></td>
<td>string</td>
<td>No</td>
<td><code>"value"</code></td>
<td>Column name</td>
<td>Column containing numeric data</td>
</tr>
<tr>
<td><code>start_year</code></td>
<td>integer</td>
<td>No</td>
<td><code>2015</code></td>
<td>Any year</td>
<td>Start year for data inclusion</td>
</tr>
<tr>
<td><code>end_year</code></td>
<td>integer</td>
<td>No</td>
<td><code>2100</code></td>
<td>Any year</td>
<td>End year for data inclusion</td>
</tr>
<tr>
<td><code>key_columns</code></td>
<td>list</td>
<td>No</td>
<td><code>None</code></td>
<td>List of column names</td>
<td>Columns for grouping (used with landtype groups)</td>
</tr>
</tbody>
</table>
<h3>Plot Configuration Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x_variable</code></td>
<td>string</td>
<td>No</td>
<td>Same as <code>category_label</code></td>
<td>Column name</td>
<td>Variable to plot on x-axis</td>
</tr>
<tr>
<td><code>hue</code></td>
<td>string</td>
<td>No</td>
<td><code>None</code></td>
<td>Column name or <code>None</code></td>
<td>Variable for color-coding boxes</td>
</tr>
<tr>
<td><code>plot_directory</code></td>
<td>string</td>
<td>No</td>
<td><code>"./"</code></td>
<td>Valid directory path</td>
<td>Directory for output plots</td>
</tr>
<tr>
<td><code>plot_name</code></td>
<td>string</td>
<td>No</td>
<td>Auto-generated</td>
<td>Filename with .pdf extension</td>
<td>Name of output plot file</td>
</tr>
<tr>
<td><code>plot_type</code></td>
<td>string</td>
<td>No</td>
<td><code>"ensemble_averages"</code></td>
<td><code>"ensemble_averages"</code>, <code>"individual"</code></td>
<td>Type of plot to create</td>
</tr>
<tr>
<td><code>plot_percent_difference</code></td>
<td>boolean</td>
<td>No</td>
<td><code>false</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Plot percent difference from first scenario</td>
</tr>
</tbody>
</table>
<h3>Aggregation &amp; Processing Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>mean_or_sum_if_more_than_one_row_in_same_landtype_group</code></td>
<td>string</td>
<td>No</td>
<td><code>"area_weighted_mean"</code></td>
<td><code>"area_weighted_mean"</code>, <code>"sum"</code>, <code>"mean"</code></td>
<td>How to aggregate when grouping landtypes</td>
</tr>
<tr>
<td><code>landtype_groups</code></td>
<td>string</td>
<td>No</td>
<td><code>"modified"</code></td>
<td><code>"modified"</code>, <code>"original"</code></td>
<td>Which landtype grouping dictionary to use</td>
</tr>
<tr>
<td><code>multiplier</code></td>
<td>number</td>
<td>No</td>
<td><code>1</code></td>
<td>Any number</td>
<td>Multiply all values by this factor</td>
</tr>
</tbody>
</table>
<h3>Visual Styling Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>y_label</code></td>
<td>string</td>
<td>No</td>
<td>Auto-generated</td>
<td>Any string</td>
<td>Y-axis label</td>
</tr>
<tr>
<td><code>x_label</code></td>
<td>string</td>
<td>No</td>
<td><code>None</code></td>
<td>Any string</td>
<td>X-axis label</td>
</tr>
<tr>
<td><code>y_scale</code></td>
<td>string</td>
<td>No</td>
<td><code>"linear"</code></td>
<td><code>"linear"</code>, <code>"log"</code></td>
<td>Y-axis scale</td>
</tr>
<tr>
<td><code>x_scale</code></td>
<td>string</td>
<td>No</td>
<td><code>None</code></td>
<td><code>"linear"</code>, <code>"log"</code>, <code>None</code></td>
<td>X-axis scale</td>
</tr>
<tr>
<td><code>y_limits</code></td>
<td>list</td>
<td>No</td>
<td><code>None</code></td>
<td><code>[min, max]</code></td>
<td>Y-axis limits</td>
</tr>
<tr>
<td><code>width</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>Figure width in inches</td>
</tr>
<tr>
<td><code>height</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>Figure height in inches</td>
</tr>
<tr>
<td><code>fill_boxes</code></td>
<td>boolean</td>
<td>No</td>
<td><code>true</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Fill boxes with color</td>
</tr>
<tr>
<td><code>linewidth</code></td>
<td>number</td>
<td>No</td>
<td><code>1</code></td>
<td>Positive number</td>
<td>Width of box outlines</td>
</tr>
<tr>
<td><code>marker_size</code></td>
<td>number</td>
<td>No</td>
<td><code>6</code></td>
<td>Positive number</td>
<td>Size of outlier markers</td>
</tr>
<tr>
<td><code>plot_colors</code></td>
<td>list</td>
<td>No</td>
<td>Default colors</td>
<td>List of color codes</td>
<td>Colors for boxes</td>
</tr>
<tr>
<td><code>use_latex</code></td>
<td>boolean</td>
<td>No</td>
<td><code>false</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Use LaTeX for text rendering</td>
</tr>
<tr>
<td><code>produce_png</code></td>
<td>boolean</td>
<td>No</td>
<td><code>false</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Also produce PNG version of plot</td>
</tr>
</tbody>
</table>
<h3>Legend Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>legend_on</code></td>
<td>boolean</td>
<td>No</td>
<td><code>true</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Show legend on plot</td>
</tr>
<tr>
<td><code>legend_place_outside</code></td>
<td>boolean</td>
<td>No</td>
<td><code>false</code></td>
<td><code>true</code>, <code>false</code></td>
<td>Place legend outside plot area</td>
</tr>
<tr>
<td><code>legend_x_offset</code></td>
<td>number</td>
<td>No</td>
<td><code>None</code></td>
<td>Positive number</td>
<td>Horizontal offset for legend placement</td>
</tr>
<tr>
<td><code>legend_num_columns</code></td>
<td>integer</td>
<td>No</td>
<td><code>1</code></td>
<td>Positive integer</td>
<td>Number of columns in legend</td>
</tr>
<tr>
<td><code>legend_label_size</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>Font size for legend labels</td>
</tr>
</tbody>
</table>
<h3>Font Size Parameters</h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Possible Values</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x_label_size</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>X-axis label font size</td>
</tr>
<tr>
<td><code>y_label_size</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>Y-axis label font size</td>
</tr>
<tr>
<td><code>x_tick_label_size</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>X-axis tick label font size</td>
</tr>
<tr>
<td><code>y_tick_label_size</code></td>
<td>number</td>
<td>No</td>
<td>Default value</td>
<td>Positive number</td>
<td>Y-axis tick label font size</td>
</tr>
</tbody>
</table>
<hr />
<h2>Detailed Parameter Descriptions</h2>
<h3>Core Data Parameters</h3>
<h4><code>output_file</code></h4>
<p><strong>Type:</strong> String (file path)<br />
<strong>Required:</strong> Yes<br />
<strong>Description:</strong> Path to the processed CSV file containing GCAM output data.</p>
<p><strong>Examples:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="nt">&quot;./../2025_DiVittorio_et_al_gcam/ag_commodity_prices_processed.csv&quot;</span>
<span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/scalars_control+full_feedback.csv&quot;</span>
</code></pre></div>

<p><strong>Requirements:</strong><br />
- File must exist and be readable<br />
- Must be CSV format with headers<br />
- Should have been processed using <code>gcam_process_extracted_data.py</code></p>
<hr />
<h4><code>scenarios</code></h4>
<p><strong>Type:</strong> List of strings OR nested list (list of lists)<br />
<strong>Required:</strong> Yes<br />
<strong>Description:</strong> Specifies which scenarios to include in the plot.</p>
<p><strong>Format 1 - Individual Plots (Simple List):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Each scenario creates separate box(es) in the plot.</p>
<p><strong>Format 2 - Ensemble Plots (Nested List):</strong></p>
<p>Users can specify ensemble scenarios in <strong>either of two formats</strong>. The script automatically detects and handles both formats using the <code>transpose_scenarios_if_needed()</code> function in <code>utility_functions.py</code>.</p>
<p><strong>Format 2A - Organized by Scenario Set (Recommended):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Control_4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Control_5&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Full feedback&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_5&quot;</span><span class="p">]</span>
<span class="p">],</span>
<span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Each inner list contains all ensemble members for one scenario set. This format is more intuitive as it groups related scenarios together.</p>
<p><strong>Format 2B - Organized by Ensemble Member (Alternative):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_4&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_5&quot;</span><span class="p">]</span>
<span class="p">],</span>
<span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Each inner list is one ensemble member. Data from all members at the same position are combined.</p>
<p><strong>Important Notes:</strong><br />
- For ensemble plots, all inner lists must have the same length<br />
- Scenario names must match exactly with values in the CSV file's scenario column<br />
- Order matters for percent difference calculations (first scenario/group is the reference)<br />
- The <code>scenario_sets</code> parameter helps the script detect which format you're using<br />
- Scenario names do not need to follow any specific naming convention</p>
<hr />
<h4><code>scenario_sets</code></h4>
<p><strong>Type:</strong> List of strings<br />
<strong>Required:</strong> No (required for ensemble plots)<br />
<strong>Default:</strong> <code>None</code><br />
<strong>Description:</strong> Names for each ensemble group when using nested scenarios.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Control_2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Full feedback&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">]</span>
<span class="p">],</span>
<span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
</code></pre></div>

<p><strong>Usage:</strong><br />
- Assigns readable names to each position across inner lists<br />
- Used in legend labels and for organizing data</p>
<hr />
<h4><code>categories</code></h4>
<p><strong>Type:</strong> List of strings<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> All categories in the data (minus excluded ones)<br />
<strong>Description:</strong> Specific categories to plot (e.g., crop types, economic sectors, landtypes).</p>
<p><strong>Examples:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">]</span>
<span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;forest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;shrub&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pasture&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;grass&quot;</span><span class="p">]</span>
<span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;agricultural energy use&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;construction energy use&quot;</span><span class="p">]</span>
</code></pre></div>

<p><strong>Special Values:</strong><br />
- If not specified, uses all unique values from the <code>category_label</code> column<br />
- Can specify landtype groups like "crop", "forest" which aggregate multiple landtypes</p>
<hr />
<h4><code>regions</code></h4>
<p><strong>Type:</strong> List of strings<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>["Global"]</code><br />
<strong>Description:</strong> Regions to include in the plot.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Global&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">]</span>
<span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;UsaPacNW&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UsaCstNE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Caribbean&quot;</span><span class="p">]</span>
</code></pre></div>

<p><strong>Special Value:</strong><br />
- <code>"Global"</code> - Aggregates data across all regions<br />
- Can be used with basins for basin-level analysis</p>
<hr />
<h3>Plot Configuration Parameters</h3>
<h4><code>x_variable</code></h4>
<p><strong>Type:</strong> String<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> Same as <code>category_label</code><br />
<strong>Description:</strong> Determines what variable is plotted on the x-axis.</p>
<p><strong>Possible Values:</strong><br />
- <code>"sector"</code> or <code>"landtype"</code> (category-based, default)<br />
- <code>"scenario"</code> (scenario-based)<br />
- <code>"region"</code> (region-based)<br />
- <code>"basin"</code> (basin-based)<br />
- Any valid column name</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span>
</code></pre></div>

<p><strong>Behavior:</strong><br />
- Default: Categories appear on x-axis<br />
- When set to "scenario": Scenarios appear on x-axis instead<br />
- Works in combination with <code>hue</code> parameter</p>
<hr />
<h4><code>hue</code></h4>
<p><strong>Type:</strong> String<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>None</code><br />
<strong>Description:</strong> Variable used to color-code different boxes within the same x-axis position.</p>
<p><strong>Possible Values:</strong><br />
- <code>None</code> - No color coding, all boxes same color<br />
- <code>"scenario"</code> - Color by scenario<br />
- <code>"region"</code> - Color by region<br />
- <code>"sector"</code> or <code>"landtype"</code> - Color by category<br />
- Any valid column name</p>
<p><strong>Examples:</strong></p>
<p><strong>No hue (default):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
</code></pre></div>

<p>Result: All boxes same color, categories on x-axis.</p>
<p><strong>Hue by scenario:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Result: For each category on x-axis, two boxes (one per scenario) with different colors.</p>
<p><strong>Hue by region:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span>
<span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Result: For each category on x-axis, three boxes (one per region) with different colors.</p>
<p><strong>Hue by sector (with x_variable as scenario):</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span><span class="p">,</span>
<span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Result: Scenarios on x-axis, each with three colored boxes (one per crop).</p>
<hr />
<h4><code>plot_percent_difference</code></h4>
<p><strong>Type:</strong> Boolean<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>false</code><br />
<strong>Description:</strong> Plot percent difference relative to the first scenario instead of absolute values.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;plot_percent_difference&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>

<p><strong>Behavior:</strong><br />
- First scenario (or first scenario set) becomes the reference (0% difference)<br />
- All other scenarios shown as percent change from reference<br />
- Y-axis label automatically updated to include "% difference"<br />
- Useful for highlighting relative changes</p>
<p><strong>Formula:</strong></p>
<div class="codehilite"><pre><span></span><code>percent_difference = (value - reference_value) / reference_value × 100
</code></pre></div>

<hr />
<h3>Aggregation Parameters</h3>
<h4><code>mean_or_sum_if_more_than_one_row_in_same_landtype_group</code></h4>
<p><strong>Type:</strong> String<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>"area_weighted_mean"</code><br />
<strong>Possible Values:</strong> <code>"area_weighted_mean"</code>, <code>"sum"</code>, <code>"mean"</code></p>
<p><strong>Description:</strong> How to aggregate when multiple landtypes are grouped together (e.g., grouping Forest, ProtectedForest, UnmanagedForest into "forest").</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;mean_or_sum_if_more_than_one_row_in_same_landtype_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sum&quot;</span>
</code></pre></div>

<p><strong>Usage:</strong><br />
- Only applies when using landtype groups like "crop", "forest", "shrub", etc.<br />
- Choose based on whether the quantity is intensive (use mean/area_weighted_mean) or extensive (use sum)</p>
<hr />
<h3>Visual Styling Parameters</h3>
<h4><code>y_scale</code></h4>
<p><strong>Type:</strong> String<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>"linear"</code><br />
<strong>Possible Values:</strong> <code>"linear"</code>, <code>"log"</code></p>
<p><strong>Description:</strong> Scale for y-axis.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span>
</code></pre></div>

<p><strong>Use Cases:</strong><br />
- <code>"log"</code> - For data spanning multiple orders of magnitude (e.g., commodity prices)<br />
- <code>"linear"</code> - For most standard plots</p>
<hr />
<h4><code>y_limits</code></h4>
<p><strong>Type:</strong> List of two numbers<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>None</code> (auto-scaled)<br />
<strong>Description:</strong> Manually set y-axis range.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;y_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">]</span>
<span class="nt">&quot;y_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">-20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">]</span>
</code></pre></div>

<p><strong>Usage:</strong><br />
- Useful for consistent scaling across multiple plots<br />
- First value is minimum, second is maximum<br />
- Particularly useful with percent difference plots</p>
<hr />
<h4><code>fill_boxes</code></h4>
<p><strong>Type:</strong> Boolean<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>true</code><br />
<strong>Description:</strong> Whether to fill boxes with color or just show outlines.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;fill_boxes&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
</code></pre></div>

<hr />
<h4><code>use_latex</code></h4>
<p><strong>Type:</strong> Boolean<br />
<strong>Required:</strong> No<br />
<strong>Default:</strong> <code>false</code><br />
<strong>Description:</strong> Use LaTeX for rendering text in plots.</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</code></pre></div>

<p><strong>Benefits:</strong><br />
- Professional typography<br />
- Proper math symbols and formatting (e.g., km$^2$)<br />
- Better for publications</p>
<p><strong>Requirements:</strong><br />
- LaTeX must be installed on the system</p>
<hr />
<h2>JSON Configuration Examples</h2>
<h3>Example 1: Simple Box Plot - No Hue</h3>
<p><strong>Purpose:</strong> Show distribution of commodity prices across crops for a single scenario</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_no_hue.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Categories (BioenergyCrop, Rice, etc.)<br />
- Each category has one box showing distribution across all years (2015-2100)<br />
- All boxes same color<br />
- Logarithmic y-axis</p>
<hr />
<h3>Example 2: Box Plot with Hue by Region</h3>
<p><strong>Purpose:</strong> Compare regional distributions for each crop</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Global&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_hue_region.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Categories (crops)<br />
- For each crop: 4 colored boxes (Global, USA, Brazil, Canada)<br />
- Colors distinguish regions<br />
- Shows how distributions vary by region for each crop</p>
<hr />
<h3>Example 3: Box Plot with Hue by Scenario</h3>
<p><strong>Purpose:</strong> Compare scenario distributions for each crop</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_hue_scenario.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Categories (crops)<br />
- For each crop: 2 colored boxes (Control and Full feedback)<br />
- Colors distinguish scenarios<br />
- Data aggregated across specified regions</p>
<hr />
<h3>Example 4: Scenario on X-axis, Category as Hue</h3>
<p><strong>Purpose:</strong> Flip the typical layout - scenarios on x-axis, categories colored</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_hue_sector.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Scenarios (Control, Full feedback)<br />
- For each scenario: 5 colored boxes (one per crop)<br />
- Colors distinguish crops<br />
- Useful for emphasizing scenario differences</p>
<hr />
<h3>Example 5: Percent Difference Plot</h3>
<p><strong>Purpose:</strong> Show relative changes from baseline scenario</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;plot_percent_difference&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_percent_difference.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Categories<br />
- Only Full feedback shown (as percent difference from Control)<br />
- Y-axis shows % difference<br />
- Distribution shows variability in relative change</p>
<hr />
<h3>Example 6: Landtype Groups</h3>
<p><strong>Purpose:</strong> Use GCAM landtype aggregations (crop, forest, etc.)</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/ag_commodity_prices_processed.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;key_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_ag_commodity_landtype_groups.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- X-axis: Both landtype group ("crop") and individual crops<br />
- "crop" box aggregates all crop types<br />
- Allows comparison of aggregated vs individual categories</p>
<hr />
<h3>Example 7: Vegetation Scalars</h3>
<p><strong>Purpose:</strong> Plot EHC vegetation scalars with specific value column</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/scalars_control+full_feedback.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;category_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;landtype&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;BioenergyCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;SugarCrop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Soybean&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Canada&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;value_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vegetation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Vegetation scalars&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_scalars_vegetation.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- Uses "vegetation" column instead of default "value"<br />
- Custom y-axis label<br />
- Shows distribution of vegetation scalar values</p>
<hr />
<h3>Example 8: Basin-Level Analysis</h3>
<p><strong>Purpose:</strong> Analyze data at basin (watershed) level instead of regional</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/scalars_control+full_feedback.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;category_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;landtype&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;forest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;shrub&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pasture&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;grass&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;key_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;UsaPacNW&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UsaCstNE&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Caribbean&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;region_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vegetation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Vegetation scalars&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_scalars_vegetation_basin.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- Uses basin-level geographic units instead of regions<br />
- Shows landtype groups<br />
- Data aggregated at finer spatial resolution</p>
<hr />
<h3>Example 9: Ensemble Plot</h3>
<p><strong>Purpose:</strong> Show ensemble spread across multiple simulation members</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/scalars_control+full_feedback.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_4&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_5&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;category_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;landtype&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;forest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;shrub&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pasture&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;grass&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;key_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;value_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vegetation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Vegetation scalars&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/ensemble/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_scalars_vegetation.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- Combines data from 5 ensemble members<br />
- Two boxes per category (Control and Full feedback groups)<br />
- Distribution includes variability across ensemble members AND across time</p>
<hr />
<h3>Example 10: Land Allocation with Custom Y-limits</h3>
<p><strong>Purpose:</strong> Plot land areas with consistent y-axis scaling</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/land_allocation_processed_ensemble.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;category_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;landtype&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;forest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;shrub&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;pasture&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;grass&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;key_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;region_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Global land area (thousands km$^2$)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;mean_or_sum_if_more_than_one_row_in_same_landtype_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sum&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/box_plots/ensemble/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_land_allocation.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong><br />
- Sums land areas within landtype groups<br />
- Fixed y-axis range for consistency<br />
- LaTeX formatting in y-axis label (superscript for km²)</p>
<hr />
<h2>The x_variable and hue System</h2>
<h3>Understanding the Layout</h3>
<p>Box plots organize data along two dimensions:<br />
1. <strong>X-axis position</strong> - Controlled by <code>x_variable</code><br />
2. <strong>Color grouping</strong> - Controlled by <code>hue</code></p>
<h3>Default Behavior</h3>
<p><strong>Without specifying x_variable or hue:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>X-axis: Categories (Rice, Wheat, Corn)</li>
<li>All boxes same color</li>
<li>One box per category</li>
</ul>
<h3>Common Patterns</h3>
<h4>Pattern 1: Categories on X-axis, Scenarios as Hue</h4>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">X</span><span class="o">-</span><span class="nl">axis</span><span class="p">:</span><span class="w">    </span><span class="n">Rice</span><span class="w">         </span><span class="n">Wheat</span><span class="w">        </span><span class="n">Corn</span>
<span class="nl">Boxes</span><span class="p">:</span><span class="w">   </span><span class="o">[</span><span class="n">C</span><span class="o">][</span><span class="n">FF</span><span class="o">]</span><span class="w">      </span><span class="o">[</span><span class="n">C</span><span class="o">][</span><span class="n">FF</span><span class="o">]</span><span class="w">      </span><span class="o">[</span><span class="n">C</span><span class="o">][</span><span class="n">FF</span><span class="o">]</span>
<span class="nl">Colors</span><span class="p">:</span><span class="w">  </span><span class="n">Blue</span><span class="w"> </span><span class="n">Red</span><span class="w">    </span><span class="n">Blue</span><span class="w"> </span><span class="n">Red</span><span class="w">    </span><span class="n">Blue</span><span class="w"> </span><span class="n">Red</span>
</code></pre></div>

<h4>Pattern 2: Scenarios on X-axis, Categories as Hue</h4>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">X</span><span class="o">-</span><span class="nl">axis</span><span class="p">:</span><span class="w">      </span><span class="n">Control</span><span class="w">              </span><span class="k">Full</span><span class="w"> </span><span class="n">feedback</span>
<span class="nl">Boxes</span><span class="p">:</span><span class="w">   </span><span class="o">[</span><span class="n">R</span><span class="o">][</span><span class="n">W</span><span class="o">][</span><span class="n">C</span><span class="o">]</span><span class="w">                </span><span class="o">[</span><span class="n">R</span><span class="o">][</span><span class="n">W</span><span class="o">][</span><span class="n">C</span><span class="o">]</span>
<span class="nl">Colors</span><span class="p">:</span><span class="w">  </span><span class="n">Blu</span><span class="w"> </span><span class="n">Grn</span><span class="w"> </span><span class="n">Red</span><span class="w">             </span><span class="n">Blu</span><span class="w"> </span><span class="n">Grn</span><span class="w"> </span><span class="n">Red</span>
</code></pre></div>

<h4>Pattern 3: Categories on X-axis, Regions as Hue</h4>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;China&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;India&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;region&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Result:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">X</span><span class="o">-</span><span class="nl">axis</span><span class="p">:</span><span class="w">        </span><span class="n">Rice</span><span class="w">                    </span><span class="n">Wheat</span>
<span class="nl">Boxes</span><span class="p">:</span><span class="w">   </span><span class="o">[</span><span class="n">USA</span><span class="o">][</span><span class="n">CHN</span><span class="o">][</span><span class="n">IND</span><span class="o">]</span><span class="w">         </span><span class="o">[</span><span class="n">USA</span><span class="o">][</span><span class="n">CHN</span><span class="o">][</span><span class="n">IND</span><span class="o">]</span>
<span class="nl">Colors</span><span class="p">:</span><span class="w">   </span><span class="n">Blu</span><span class="w">  </span><span class="n">Grn</span><span class="w">   </span><span class="n">Red</span><span class="w">          </span><span class="n">Blu</span><span class="w">  </span><span class="n">Grn</span><span class="w">   </span><span class="n">Red</span>
</code></pre></div>

<h3>Valid Combinations</h3>
<table>
<thead>
<tr>
<th>x_variable</th>
<th>hue</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>category (default)</td>
<td>None</td>
<td>One box per category</td>
</tr>
<tr>
<td>category</td>
<td>scenario</td>
<td>Multiple scenarios per category</td>
</tr>
<tr>
<td>category</td>
<td>region</td>
<td>Multiple regions per category</td>
</tr>
<tr>
<td>scenario</td>
<td>None</td>
<td>One box per scenario</td>
</tr>
<tr>
<td>scenario</td>
<td>category</td>
<td>Multiple categories per scenario</td>
</tr>
<tr>
<td>scenario</td>
<td>region</td>
<td>Multiple regions per scenario</td>
</tr>
<tr>
<td>region</td>
<td>None</td>
<td>One box per region</td>
</tr>
<tr>
<td>region</td>
<td>scenario</td>
<td>Multiple scenarios per region</td>
</tr>
<tr>
<td>region</td>
<td>category</td>
<td>Multiple categories per region</td>
</tr>
</tbody>
</table>
<hr />
<h2>Output Files</h2>
<h3>Plot Files</h3>
<p><strong>PDF Format (default):</strong><br />
- High-resolution vector graphics<br />
- Suitable for publications<br />
- Filename: <code>plot_name</code> parameter or auto-generated</p>
<p><strong>PNG Format (optional):</strong><br />
- Raster graphics<br />
- Enabled with <code>produce_png: true</code><br />
- Same filename as PDF with .png extension</p>
<h3>Auto-generated Filenames</h3>
<p><strong>Default naming pattern:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">box_plot_</span><span class="o">[</span><span class="n">output_file_name</span><span class="o">]</span><span class="p">.</span><span class="n">pdf</span>
</code></pre></div>

<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">Input</span><span class="o">:</span><span class="w"> </span><span class="n">ag_commodity_prices_processed</span><span class="o">.</span><span class="na">csv</span>
<span class="n">Output</span><span class="o">:</span><span class="w"> </span><span class="n">box_plot_ag_commodity_prices_processed</span><span class="o">.</span><span class="na">pdf</span>
</code></pre></div>

<hr />
<h2>Advanced Features</h2>
<h3>Landtype Grouping</h3>
<p>The script supports two levels of landtype aggregation:</p>
<p><strong>Modified Groups (default):</strong><br />
- Aggregates GCAM landtypes into major categories<br />
- Example: "crop" includes all crop types<br />
- Set with <code>"landtype_groups": "modified"</code></p>
<p><strong>Original Groups:</strong><br />
- Uses original GCAM landtype names with broader groupings<br />
- Set with <code>"landtype_groups": "original"</code></p>
<p><strong>Landtype Group Examples:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">crop</span> <span class="o">=</span> <span class="p">[</span><span class="n">BioenergyCrop</span><span class="p">,</span> <span class="n">Corn</span><span class="p">,</span> <span class="n">FodderGrass</span><span class="p">,</span> <span class="n">Rice</span><span class="p">,</span> <span class="n">Wheat</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="n">forest</span> <span class="o">=</span> <span class="p">[</span><span class="n">Forest</span><span class="p">,</span> <span class="n">ProtectedUnmanagedForest</span><span class="p">,</span> <span class="n">UnmanagedForest</span><span class="p">]</span>
<span class="n">shrub</span> <span class="o">=</span> <span class="p">[</span><span class="n">Shrubland</span><span class="p">,</span> <span class="n">ProtectedUnmanagedShrubland</span><span class="p">,</span> <span class="n">UnmanagedShrubland</span><span class="p">]</span>
<span class="n">pasture</span> <span class="o">=</span> <span class="p">[</span><span class="n">Pasture</span><span class="p">,</span> <span class="n">ProtectedUnmanagedPasture</span><span class="p">]</span>
<span class="n">grass</span> <span class="o">=</span> <span class="p">[</span><span class="n">Grassland</span><span class="p">,</span> <span class="n">ProtectedUnmanagedGrassland</span><span class="p">,</span> <span class="n">UnmanagedGrassland</span><span class="p">]</span>
</code></pre></div>

<p><strong>Usage:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;crop&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;forest&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;shrub&quot;</span><span class="p">],</span>
<span class="nt">&quot;key_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;year&quot;</span><span class="p">]</span>
</code></pre></div>

<hr />
<h3>Time Aggregation</h3>
<p>Unlike time series plots, box plots aggregate all data within the specified year range into a single distribution for each box.</p>
<p><strong>What this means:</strong><br />
- Start year: 2015, End year: 2100 → Each box shows distribution of 86 data points (one per year)<br />
- Useful for seeing overall variability across time<br />
- Box components represent temporal variability, not spatial or ensemble variability</p>
<p><strong>Example:</strong><br />
For "Rice" in "Control" scenario from 2015-2100:<br />
- Box shows quartiles of 86 annual values<br />
- Median line = median price across all years<br />
- IQR = middle 50% of annual values</p>
<hr />
<h3>Combining Temporal and Ensemble Variability</h3>
<p><strong>Ensemble Plots:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">]</span>
<span class="p">]</span>
</code></pre></div>

<p><strong>Distribution includes:</strong><br />
- Temporal variability (2015-2100, 86 years)<br />
- Ensemble variability (3 members)<br />
- Total data points per box: 86 years × 3 members = 258 points</p>
<p><strong>Useful for:</strong><br />
- Understanding total uncertainty (time + ensemble)<br />
- Comparing ensemble spread between scenarios</p>
<hr />
<h3>Regional and Basin Aggregation</h3>
<p><strong>Global Aggregation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Global&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Creates a copy of entire dataset labeled "Global"</p>
<p><strong>Multiple Regions:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;China&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">]</span>
</code></pre></div>

<p>Filters to only specified regions</p>
<p><strong>Basin-Level:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;UsaPacNW&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;UsaCstNE&quot;</span><span class="p">],</span>
<span class="nt">&quot;region_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basin&quot;</span>
</code></pre></div>

<p>Uses basin column instead of region column</p>
<hr />
<h3>Parallel Processing</h3>
<p>The script processes multiple plot configurations in parallel:</p>
<p><strong>Command:</strong></p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>gcam_plot_box_and_whiskers.py<span class="w"> </span>config1.json<span class="w"> </span>config2.json<span class="w"> </span>config3.json
</code></pre></div>

<p><strong>Behavior:</strong><br />
- Each JSON configuration file processed independently<br />
- All plots within a file created sequentially<br />
- Utilizes all available CPU cores<br />
- Significantly faster for many plots</p>
<hr />
<h2>Troubleshooting</h2>
<h3>Common Issues</h3>
<h4>Issue 1: File Not Found Error</h4>
<p><strong>Error:</strong> <code>FileNotFoundError: output_file not found</code></p>
<p><strong>Solutions:</strong><br />
- Verify file path is correct<br />
- Use absolute paths if unsure<br />
- Check file has been processed by <code>gcam_process_extracted_data.py</code></p>
<hr />
<h4>Issue 2: Empty Boxes or Missing Data</h4>
<p><strong>Symptom:</strong> Boxes don't appear or have no height</p>
<p><strong>Causes:</strong><br />
- Year range doesn't overlap with data<br />
- Category names don't match CSV file<br />
- All values identical (no variation)</p>
<p><strong>Solutions:</strong><br />
- Check <code>start_year</code> and <code>end_year</code> overlap with data<br />
- Verify category names match exactly<br />
- Print unique values: <code>df['category_label'].unique()</code></p>
<hr />
<h4>Issue 3: Hue Not Working</h4>
<p><strong>Symptom:</strong> All boxes same color despite specifying hue</p>
<p><strong>Causes:</strong><br />
- Hue variable not in filtered data<br />
- Typo in hue parameter value<br />
- Only one unique value in hue variable</p>
<p><strong>Solutions:</strong><br />
- Verify hue column exists in CSV<br />
- Check spelling and case<br />
- Ensure multiple values present after filtering</p>
<hr />
<h4>Issue 4: X-axis Labels Overlapping</h4>
<p><strong>Symptom:</strong> Category names overlap on x-axis</p>
<p><strong>Solutions:</strong><br />
- Reduce number of categories<br />
- Increase figure width: <code>"width": 12</code><br />
- Rotate labels (requires manual matplotlib adjustment)<br />
- Use abbreviations in category names</p>
<hr />
<h4>Issue 5: LaTeX Errors</h4>
<p><strong>Error:</strong> <code>RuntimeError: Failed to process string with tex</code></p>
<p><strong>Solutions:</strong><br />
- Install LaTeX or set <code>"use_latex": false</code><br />
- Escape special characters in labels (e.g., use <code>\$</code> for <code>$</code>)<br />
- Check y_label for proper LaTeX formatting</p>
<hr />
<h4>Issue 6: Ensemble Structure Mismatch</h4>
<p><strong>Error:</strong> <code>ValueError: All inner lists must have same length</code></p>
<p><strong>Cause:</strong> Nested scenario lists have different lengths</p>
<p><strong>Solution:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Incorrect</span>
<span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">]</span><span class="w">  </span><span class="c1">// Missing Full feedback_2</span>
<span class="p">]</span>

<span class="c1">// Correct</span>
<span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">]</span>
<span class="p">]</span>
</code></pre></div>

<hr />
<h2>Best Practices</h2>
<h3>1. Organization</h3>
<p><strong>Directory Structure:</strong></p>
<div class="codehilite"><pre><span></span><code>project/
├── data/
│   ├── raw/
│   └── processed/
├── plots/
│   ├── box_plots/
│   │   ├── individual/
│   │   ├── ensemble/
│   │   └── percent_difference/
└── configs/
    ├── box_plot_config.json
    └── time_series_config.json
</code></pre></div>

<hr />
<h3>2. Choosing x_variable and hue</h3>
<p><strong>Question: What do I want to compare?</strong></p>
<p><strong>Answer: Compare scenarios for each category</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span><span class="p">,</span><span class="w">  </span><span class="c1">// or use default</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Answer: Compare categories for each scenario</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Answer: Compare regions for each category</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span><span class="p">,</span><span class="w">  </span><span class="c1">// or use default</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;region&quot;</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h3>3. When to Use Box Plots vs Time Series</h3>
<p><strong>Use Box Plots When:</strong><br />
- Want to see overall distribution across time<br />
- Interested in quartiles, outliers, and spread<br />
- Comparing statistical summaries<br />
- Space-constrained publications (one plot vs many time points)</p>
<p><strong>Use Time Series When:</strong><br />
- Temporal trends are important<br />
- Want to see trajectory over time<br />
- Interested in specific years or periods<br />
- Need to show year-by-year changes</p>
<p><strong>Use Both:</strong><br />
- Box plot for overview<br />
- Time series for detailed temporal analysis</p>
<hr />
<h3>4. Styling for Publications</h3>
<p><strong>High Quality Settings:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;linewidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;marker_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;legend_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;x_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;produce_png&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;fill_boxes&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Presentation Settings:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;linewidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;marker_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;legend_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;x_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;produce_png&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;fill_boxes&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h3>5. Data Preparation</h3>
<p><strong>Before Plotting:</strong><br />
- Process with <code>gcam_process_extracted_data.py</code><br />
- Add areas with <code>gcam_add_areas_to_files.py</code> (if needed for area-weighted means)<br />
- Verify data structure matches expectations<br />
- Check for missing values or outliers</p>
<p><strong>Verify Year Range:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;your_file.csv&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Years: </span><span class="si">{</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h3>6. Color Schemes</h3>
<p><strong>Default Colors (Matplotlib Tableau palette):</strong><br />
- Automatically applied when <code>hue</code> is specified<br />
- Up to 10 colors, then extends to XKCD colors<br />
- Defined in <code>utility_plots.py</code></p>
<p><strong>Custom Colors:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nt">&quot;plot_colors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;#1f77b4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;#ff7f0e&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;#2ca02c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;#d62728&quot;</span><span class="p">]</span>
</code></pre></div>

<hr />
<h3>7. Iterative Workflow</h3>
<p><strong>Recommended Process:</strong><br />
1. Start with simple configuration (one scenario, few categories)<br />
2. Verify plot looks reasonable<br />
3. Experiment with x_variable and hue combinations<br />
4. Add complexity (more scenarios, categories, regions)<br />
5. Adjust styling parameters<br />
6. Run full ensemble when configuration is finalized</p>
<hr />
<h2>Integration with Other Scripts</h2>
<h3>Typical Workflow</h3>
<div class="codehilite"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">gcam_extract_csv_from_project_files</span><span class="mf">.</span><span class="n">R</span>
<span class="w">   </span><span class="err">↓</span><span class="w"> </span><span class="p">(</span><span class="n">Extract</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">GCAM</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="n">files</span><span class="p">)</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">gcam_process_extracted_data</span><span class="mf">.</span><span class="n">py</span>
<span class="w">   </span><span class="err">↓</span><span class="w"> </span><span class="p">(</span><span class="n">Clean</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">or</span><span class="n">ganize</span><span class="p">)</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">gcam_add_areas_to_files</span><span class="mf">.</span><span class="n">py</span><span class="w"> </span><span class="p">(</span><span class="n">optional</span><span class="p">)</span>
<span class="w">   </span><span class="err">↓</span><span class="w"> </span><span class="p">(</span><span class="n">Add</span><span class="w"> </span><span class="n">land</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="kd">data</span><span class="p">)</span>

<span class="mf">4.</span><span class="w"> </span><span class="n">gcam_plot_box_and_whiskers</span><span class="mf">.</span><span class="n">py</span><span class="w">  </span><span class="err">←</span><span class="w"> </span><span class="n">THIS</span><span class="w"> </span><span class="n">SCRIPT</span>
<span class="w">   </span><span class="err">↓</span><span class="w"> </span><span class="p">(</span><span class="n">Create</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="n">plots</span><span class="p">)</span>

<span class="mf">5.</span><span class="w"> </span><span class="n">Analysis</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">publication</span>
</code></pre></div>

<h3>Complementary Visualizations</h3>
<p><strong>Also create:</strong><br />
- Time series plots (<code>gcam_plot_time_series.py</code>) - Show temporal trends<br />
- Spatial plots (<code>gcam_plot_spatial_data.py</code>) - Show geographic patterns</p>
<p><strong>Together they provide:</strong><br />
- Box plots: Statistical summary across time<br />
- Time series: Temporal evolution<br />
- Spatial plots: Geographic distribution</p>
<hr />
<h2>Performance Considerations</h2>
<h3>Execution Time</h3>
<p><strong>Factors:</strong><br />
- Number of configurations<br />
- Number of scenarios/ensemble members<br />
- Number of categories, regions, and years<br />
- File size<br />
- LaTeX rendering (slower)</p>
<p><strong>Typical Times:</strong><br />
- Simple box plot: 1-2 seconds<br />
- Ensemble plot with 5 members: 2-5 seconds<br />
- Complex multi-category, multi-region: 5-15 seconds</p>
<p><strong>Optimization:</strong><br />
- Use PNG instead of PDF for faster rendering<br />
- Disable LaTeX for draft plots<br />
- Reduce year range for testing<br />
- Process multiple configs in parallel</p>
<hr />
<h2>Appendix: Complete Default Values</h2>
<h3>All Default Parameters</h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
    <span class="s1">&#39;basin_label&#39;</span><span class="p">:</span> <span class="s1">&#39;basin&#39;</span><span class="p">,</span>
    <span class="s1">&#39;basins&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;category_label&#39;</span><span class="p">:</span> <span class="s1">&#39;sector&#39;</span><span class="p">,</span>
    <span class="s1">&#39;end_year&#39;</span><span class="p">:</span> <span class="mi">2100</span><span class="p">,</span>
    <span class="s1">&#39;fill_boxes&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;hue&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;key_columns&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;landtype_groups&#39;</span><span class="p">:</span> <span class="s1">&#39;modified&#39;</span><span class="p">,</span>
    <span class="s1">&#39;legend_label_size&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;legend_num_columns&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;legend_on&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;legend_place_outside&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s1">&#39;legend_x_offset&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;linewidth&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;marker_size&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s1">&#39;multiplier&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;mean_or_sum_if_more_than_one_row_in_same_landtype_group&#39;</span><span class="p">:</span> <span class="s1">&#39;area_weighted_mean&#39;</span><span class="p">,</span>
    <span class="s1">&#39;plot_colors&#39;</span><span class="p">:</span> <span class="n">Matplotlib</span> <span class="n">Tableau</span> <span class="n">colors</span> <span class="p">(</span><span class="n">see</span> <span class="n">utility_plots</span><span class="o">.</span><span class="n">py</span><span class="p">),</span>
    <span class="s1">&#39;plot_directory&#39;</span><span class="p">:</span> <span class="s1">&#39;./&#39;</span><span class="p">,</span>
    <span class="s1">&#39;plot_percent_difference&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s1">&#39;plot_type&#39;</span><span class="p">:</span> <span class="s1">&#39;ensemble_averages&#39;</span><span class="p">,</span>
    <span class="s1">&#39;produce_png&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s1">&#39;region_label&#39;</span><span class="p">:</span> <span class="s1">&#39;region&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;regions&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Global&#39;</span><span class="p">],</span>
    <span class="s1">&#39;scenario_label&#39;</span><span class="p">:</span> <span class="s1">&#39;scenario&#39;</span><span class="p">,</span> 
    <span class="s1">&#39;scenario_sets&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;start_year&#39;</span><span class="p">:</span> <span class="mi">2015</span><span class="p">,</span>
    <span class="s1">&#39;use_latex&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s1">&#39;value_label&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;x_label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;x_label_size&#39;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;x_scale&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;x_tick_label_size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;y_label_size&#39;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;y_limits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s1">&#39;y_scale&#39;</span><span class="p">:</span> <span class="s1">&#39;linear&#39;</span><span class="p">,</span>
    <span class="s1">&#39;y_tick_label_size&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>  <span class="c1"># Default from utility_plots</span>
    <span class="s1">&#39;year_label&#39;</span><span class="p">:</span> <span class="s1">&#39;year&#39;</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>Quick Reference Guide</h2>
<h3>Minimal Configuration</h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/file.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<h3>Recommended Configuration</h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/file.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>

<h3>Full Featured Configuration</h3>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./data/file.csv&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;scenarios&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_2&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s2">&quot;Control_3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback_3&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;scenario_sets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Control&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Full feedback&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Rice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Wheat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Corn&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;regions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;USA&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;China&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Brazil&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;hue&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;scenario&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;x_variable&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sector&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./plots/ensemble/&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;plot_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;box_plot_crops.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Commodity price ($/kg)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_scale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;y_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;start_year&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2020</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;end_year&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2100</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_latex&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;legend_num_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;legend_place_outside&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;legend_x_offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span>
<span class="p">}</span>
</code></pre></div>

<hr />
<h2>References</h2>
<ul>
<li>DiVittorio et al. (2025). "E3SM-GCAM coupling methodology and applications." <em>Journal of Advances in Modeling Earth Systems</em>. <a href="https://agupubs.onlinelibrary.wiley.com/doi/full/10.1029/2024MS004806">DOI: 10.1029/2024MS004806</a></li>
<li>GitHub Repository: <a href="https://github.com/philipmyint/e3sm--gcam_analysis">https://github.com/philipmyint/e3sm--gcam_analysis</a></li>
<li>Seaborn Box Plot Documentation: <a href="https://seaborn.pydata.org/generated/seaborn.boxplot.html">https://seaborn.pydata.org/generated/seaborn.boxplot.html</a></li>
</ul>
<hr />
<h2>Contact</h2>
<p>For questions or issues:<br />
- <strong>Philip Myint</strong>: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="523f2b3b3c2663123e3e3c3e7c353d24">[email&#160;protected]</a><br />
- <strong>Dalei Hao</strong>: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3a5e5b565f5314525b557a4a545456145d554c">[email&#160;protected]</a></p>
<hr />
<h2>Version Information</h2>
<p><strong>Script:</strong> gcam_plot_box_and_whiskers.py<br />
<strong>Documentation Version:</strong> 1.0<br />
<strong>Last Updated:</strong> January 2026<br />
<strong>Python Version:</strong> 3.7+</p>
<hr />
<p><em>This documentation provides comprehensive guidance for using the <code>gcam_plot_box_and_whiskers.py</code> script to create statistical visualizations of GCAM output data distributions.</em></p>
        
       